(ROOT (S (NP (NP (NN S2) (NNS states)) (SBAR (IN that) (S (NP (DT the) (NNP Massachusetts) (NN ruling)) (VP (VBD was) (VP (VBN based) (PP (IN on) (NP (NP (DT a) (JJ specific) (NN provision)) (PP (IN in) (NP (PRP$ their) (NN constitution))) (SBAR (WHNP (IN that)) (S (VP (VBZ prohibits) (NP (NN discrimination)) (PP (VBN based) (PP (IN on) (NP (NP (JJ sexual) (NN discrimination)) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VBZ is) (RB not) (VP (VBN founded) (PP (IN in) (NP (NP (DT the) (JJ federal) (NN constitution)) (, ,) (SBAR (WHPP (TO to) (WHNP (WDT which))) (S (NP (NN S1)) (VP (VBZ states) (NP (DT the) (NN ruling)))))))))))))))))))))))) (VP (VBD was) (PP (IN on) (NP (DT the) (JJ equal) (NN protection) (NNS grounds)))) (. .)))