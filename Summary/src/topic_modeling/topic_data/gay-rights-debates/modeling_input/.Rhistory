library(NLP,lib.loc="/Users/amita/software/Rpackage")
library(tm,lib.loc="/Users/amita/software/Rpackage") #load text mining library
setwd("/Users/amita/git/summary_repo/Summary/src/topic_modelling/topic_data/gay-rights-debates/modeling_input/") #sets R's working directory to near where my files are
a  <-Corpus(DirSource("sent_inp/1-6229_6_5__7_8_9_16_26_29_46_47_48_2/"), readerControl = list(reader=readPlain)) #specifies the exact folder where my text file(s) is for analysis with tm.
summary(a)  #check what went in
a <- tm_map(a, removeNumbers)
a <- tm_map(a, removePunctuation)
a <- tm_map(a , stripWhitespace)
a <- tm_map(a, content_transformer(tolower))
a <- tm_map(a, removeWords, stopwords("english")) # this stopword file is at C:\Users\[username]\Documents\R\win-library\2.13\tm\stopwords
adtm <-DocumentTermMatrix(a)
dim(adtm)
rowTotals <- apply(adtm , 1, sum) #Find the sum of words in each Document
adtm.new <- adtm[rowTotals> 0, ]
library(topicmodels,lib.loc="/Users/amita/software/Rpackage")
k<-15
SEED<-2010
jss_TM<-list(VEM=LDA(adtm.new, k = k, control = list(seed = SEED)),VEM_fixed = LDA(adtm.new, k = k,
+                                control = list(estimate.alpha = FALSE, seed = SEED)),
+              Gibbs = LDA(adtm.new, k = k, method = "Gibbs",
+                           control = list(seed = SEED, burnin = 1000,thin = 100, iter = 1000)),
+             CTM = CTM(adtm.new, k = k,
+                          control = list(seed = SEED,
+                                          var = list(tol = 10^-4), em = list(tol = 10^-3))))
sapply(jss_TM, function(x)
+   + mean(apply(posterior(x)$topics,
+                + 1, function(z) - sum(z * log(z)))))
Topic <- topics(jss_TM[["CTM"]])
Terms <- terms(jss_TM[["CTM"]], 5)
Topic <- topics(jss_TM[["VEM"]], 1)
Terms <- terms(jss_TM[["VEM"]], 5)
Terms[,1:14]
Topic <- topics(jss_TM[["Gibbs"]], 1)
Terms <- terms(jss_TM[["Gibbs"]], 5)
Terms[,1:14]
setwd("~/git/summary_repo/Summary/src/topic_modeling/topic_data/gay-rights-debates/modeling_input")
library(NLP,lib.loc="/Users/amita/software/Rpackage")
library(tm,lib.loc="/Users/amita/software/Rpackage") #load text mining library
setwd("~/git/summary_repo/Summary/src/topic_modeling/topic_data/gay-rights-debates/modeling_input") #sets R's working directory to near where my files are
a  <-Corpus(DirSource("sent_inp/1-6229_6_5__7_8_9_16_26_29_46_47_48_2/"), readerControl = list(reader=readPlain)) #specifies the exact folder where my text file(s) is for analysis with tm.
summary(a)  #check what went in
a <- tm_map(a, removeNumbers)
a <- tm_map(a, removePunctuation)
a <- tm_map(a , stripWhitespace)
a <- tm_map(a, content_transformer(tolower))
a <- tm_map(a, removeWords, stopwords("english")) # this stopword file is at C:\Users\[username]\Documents\R\win-library\2.13\tm\stopwords
adtm <-DocumentTermMatrix(a)
dim(adtm)
rowTotals <- apply(adtm , 1, sum) #Find the sum of words in each Document
adtm.new <- adtm[rowTotals> 0, ]
library(topicmodels,lib.loc="/Users/amita/software/Rpackage")
k<-15
SEED<-2010
jss_TM<-list(VEM=LDA(adtm.new, k = k, control = list(seed = SEED)),VEM_fixed = LDA(adtm.new, k = k,
+                                control = list(estimate.alpha = FALSE, seed = SEED)),
+              Gibbs = LDA(adtm.new, k = k, method = "Gibbs",
+                           control = list(seed = SEED, burnin = 1000,thin = 100, iter = 1000)),
+             CTM = CTM(adtm.new, k = k,
+                          control = list(seed = SEED,
+                                          var = list(tol = 10^-4), em = list(tol = 10^-3))))
sapply(jss_TM, function(x)
+   + mean(apply(posterior(x)$topics,
+                + 1, function(z) - sum(z * log(z)))))
Topic <- topics(jss_TM[["CTM"]])
Terms <- terms(jss_TM[["CTM"]], 5)
Topic <- topics(jss_TM[["VEM"]], 1)
Terms <- terms(jss_TM[["VEM"]], 5)
Terms[,1:14]
Topic <- topics(jss_TM[["Gibbs"]], 1)
Terms <- terms(jss_TM[["Gibbs"]], 5)
Terms[,1:14]
library(NLP,lib.loc="/Users/amita/software/Rpackage")
library(tm,lib.loc="/Users/amita/software/Rpackage") #load text mining library
setwd("~/git/summary_repo/Summary/src/topic_modeling/topic_data/gay-rights-debates/modeling_input") #sets R's working directory to near where my files are
a  <-Corpus(DirSource("sent_inp/1-6229_6_5__7_8_9_16_26_29_46_47_48_2/"), readerControl = list(reader=readPlain)) #specifies the exact folder where my text file(s) is for analysis with tm.
summary(a)  #check what went in
a <- tm_map(a, removeNumbers)
a <- tm_map(a, removePunctuation)
a <- tm_map(a , stripWhitespace)
a <- tm_map(a, content_transformer(tolower))
a <- tm_map(a, removeWords, stopwords("english")) # this stopword file is at C:\Users\[username]\Documents\R\win-library\2.13\tm\stopwords
adtm <-DocumentTermMatrix(a)
dim(adtm)
rowTotals <- apply(adtm , 1, sum) #Find the sum of words in each Document
adtm.new <- adtm[rowTotals> 0, ]
library(topicmodels,lib.loc="/Users/amita/software/Rpackage")
k<-15
SEED<-2010
jss_TM <-
+ list(VEM = LDA(adtm.new, k = k, control = list(seed = SEED)),
+ VEM_fixed = LDA(JSS_dtm, k = k,
+ control = list(estimate.alpha = FALSE, seed = SEED)),
+ Gibbs = LDA(adtm.new, k = k, method = "Gibbs",
+ control = list(seed = SEED, burnin = 1000,
+ thin = 100, iter = 1000)),
+ CTM = CTM(adtm.new, k = k,
+ control = list(seed = SEED,
+ var = list(tol = 10^-4), em = list(tol = 10^-3))))
sapply(jss_TM, function(x)
+   + mean(apply(posterior(x)$topics,
+                + 1, function(z) - sum(z * log(z)))))
Topic <- topics(jss_TM[["CTM"]])
Terms <- terms(jss_TM[["CTM"]], 5)
Topic <- topics(jss_TM[["VEM"]], 1)
Terms <- terms(jss_TM[["VEM"]], 5)
Terms[,1:14]
Topic <- topics(jss_TM[["Gibbs"]], 1)
Terms <- terms(jss_TM[["Gibbs"]], 5)
Terms[,1:14]
library(NLP,lib.loc="/Users/amita/software/Rpackage")
library(tm,lib.loc="/Users/amita/software/Rpackage") #load text mining library
setwd("~/git/summary_repo/Summary/src/topic_modeling/topic_data/gay-rights-debates/modeling_input") #sets R's working directory to near where my files are
a  <-Corpus(DirSource("sent_inp/1-6229_6_5__7_8_9_16_26_29_46_47_48_2/"), readerControl = list(reader=readPlain)) #specifies the exact folder where my text file(s) is for analysis with tm.
summary(a)  #check what went in
a <- tm_map(a, removeNumbers)
a <- tm_map(a, removePunctuation)
a <- tm_map(a , stripWhitespace)
a <- tm_map(a, content_transformer(tolower))
a <- tm_map(a, removeWords, stopwords("english")) # this stopword file is at C:\Users\[username]\Documents\R\win-library\2.13\tm\stopwords
adtm <-DocumentTermMatrix(a)
dim(adtm)
rowTotals <- apply(adtm , 1, sum) #Find the sum of words in each Document
adtm.new <- adtm[rowTotals> 0, ]
library(topicmodels,lib.loc="/Users/amita/software/Rpackage")
k<-15
SEED<-2010
jss_TM <- list(VEM = LDA(adtm.new, k = k, control = list(seed = SEED)), VEM_fixed = LDA(JSS_dtm, k = k,control = list(estimate.alpha = FALSE, seed = SEED)),
+ Gibbs = LDA(adtm.new, k = k, method = "Gibbs",control = list(seed = SEED, burnin = 1000, thin = 100, iter = 1000)),
+ CTM = CTM(adtm.new, k = k, control = list(seed = SEED, var = list(tol = 10^-4), em = list(tol = 10^-3))))
sapply(jss_TM, function(x)
+   + mean(apply(posterior(x)$topics,
+                + 1, function(z) - sum(z * log(z)))))
Topic <- topics(jss_TM[["CTM"]])
Terms <- terms(jss_TM[["CTM"]], 5)
Topic <- topics(jss_TM[["VEM"]], 1)
Terms <- terms(jss_TM[["VEM"]], 5)
Terms[,1:14]
Topic <- topics(jss_TM[["Gibbs"]], 1)
Terms <- terms(jss_TM[["Gibbs"]], 5)
Terms[,1:14]
library(NLP,lib.loc="/Users/amita/software/Rpackage")
library(tm,lib.loc="/Users/amita/software/Rpackage") #load text mining library
setwd("~/git/summary_repo/Summary/src/topic_modeling/topic_data/gay-rights-debates/modeling_input") #sets R's working directory to near where my files are
a  <-Corpus(DirSource("sent_inp/1-6229_6_5__7_8_9_16_26_29_46_47_48_2/"), readerControl = list(reader=readPlain)) #specifies the exact folder where my text file(s) is for analysis with tm.
summary(a)  #check what went in
a <- tm_map(a, removeNumbers)
a <- tm_map(a, removePunctuation)
a <- tm_map(a , stripWhitespace)
a <- tm_map(a, content_transformer(tolower))
a <- tm_map(a, removeWords, stopwords("english")) # this stopword file is at C:\Users\[username]\Documents\R\win-library\2.13\tm\stopwords
adtm <-DocumentTermMatrix(a)
dim(adtm)
rowTotals <- apply(adtm , 1, sum) #Find the sum of words in each Document
adtm.new <- adtm[rowTotals> 0, ]
library(topicmodels,lib.loc="/Users/amita/software/Rpackage")
k<-15
SEED<-2010
jss_TM <- list(VEM = LDA(adtm.new, k = k, control = list(seed = SEED)), VEM_fixed = LDA(JSS_dtm, k = k,control = list(estimate.alpha = FALSE, seed = SEED)),Gibbs = LDA(adtm.new, k = k, method = "Gibbs",control = list(seed = SEED, burnin = 1000, thin = 100, iter = 1000)),CTM = CTM(adtm.new, k = k, control = list(seed = SEED, var = list(tol = 10^-4), em = list(tol = 10^-3))))
sapply(jss_TM, function(x)
+   + mean(apply(posterior(x)$topics,
+                + 1, function(z) - sum(z * log(z)))))
Topic <- topics(jss_TM[["CTM"]])
Terms <- terms(jss_TM[["CTM"]], 5)
Topic <- topics(jss_TM[["VEM"]], 1)
Terms <- terms(jss_TM[["VEM"]], 5)
Terms[,1:14]
Topic <- topics(jss_TM[["Gibbs"]], 1)
Terms <- terms(jss_TM[["Gibbs"]], 5)
Terms[,1:14]
library(NLP,lib.loc="/Users/amita/software/Rpackage")
library(tm,lib.loc="/Users/amita/software/Rpackage") #load text mining library
setwd("~/git/summary_repo/Summary/src/topic_modeling/topic_data/gay-rights-debates/modeling_input") #sets R's working directory to near where my files are
a  <-Corpus(DirSource("sent_inp/1-6229_6_5__7_8_9_16_26_29_46_47_48_2/"), readerControl = list(reader=readPlain)) #specifies the exact folder where my text file(s) is for analysis with tm.
summary(a)  #check what went in
a <- tm_map(a, removeNumbers)
a <- tm_map(a, removePunctuation)
a <- tm_map(a , stripWhitespace)
a <- tm_map(a, content_transformer(tolower))
a <- tm_map(a, removeWords, stopwords("english")) # this stopword file is at C:\Users\[username]\Documents\R\win-library\2.13\tm\stopwords
adtm <-DocumentTermMatrix(a)
dim(adtm)
rowTotals <- apply(adtm , 1, sum) #Find the sum of words in each Document
adtm.new <- adtm[rowTotals> 0, ]
library(topicmodels,lib.loc="/Users/amita/software/Rpackage")
k<-15
SEED<-2010
jss_TM <- list(VEM = LDA(adtm.new, k = k, control = list(seed = SEED)), VEM_fixed = LDA(adtm.new, k = k,control = list(estimate.alpha = FALSE, seed = SEED)),Gibbs = LDA(adtm.new, k = k, method = "Gibbs",control = list(seed = SEED, burnin = 1000, thin = 100, iter = 1000)),CTM = CTM(adtm.new, k = k, control = list(seed = SEED, var = list(tol = 10^-4), em = list(tol = 10^-3))))
sapply(jss_TM, function(x)
+   + mean(apply(posterior(x)$topics,
+                + 1, function(z) - sum(z * log(z)))))
Topic <- topics(jss_TM[["CTM"]])
Terms <- terms(jss_TM[["CTM"]], 5)
Topic <- topics(jss_TM[["VEM"]], 1)
Terms <- terms(jss_TM[["VEM"]], 5)
Terms[,1:14]
Topic <- topics(jss_TM[["Gibbs"]], 1)
Terms <- terms(jss_TM[["Gibbs"]], 5)
Terms[,1:14]
